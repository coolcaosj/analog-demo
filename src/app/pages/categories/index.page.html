<div class="mt-10 mx-auto max-w-screen-xl w-full flex justify-center items-center px-5">
  <div class="w-full py-5 my-5">
    <div class="w-full h-full flex flex-col justify-center items-center">
      <h2 class="font-bold text-2xl text-gray-500">
        当前共有 {{categoryMap().size}} 个分类
      </h2>
      <div class="w-full my-5">
        @for (c of categoryMap().keys(); track $index; let idx = $index, last = $last, first = $first) {
        <h2>
          <button (click)="toggleSelected(c)" type="button"
            [ngClass]="{ 'rounded-t-xl border-t': first  }"
            class="flex items-center justify-between w-full p-5 font-medium rtl:text-right text-gray-500 border-x border-b border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3">
            <div>
              <span class="font-bold">{{c}}</span>
              <span class="mx-5">{{categoryMap().get(c)}}</span>
            </div>
            <svg [ngClass]="{'hidden': selectedCategory() != c}" data-accordion-icon="" class="w-3 h-3 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"></path>
            </svg>
            <svg  [ngClass]="{'hidden': selectedCategory() == c}"  data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5" />
            </svg>
          </button>
        </h2>
        <div class="hidden" [ngClass]="{ 'hidden': selectedCategory() != c }">
          <div class="p-5 border-x border-b border-gray-200 dark:border-gray-700 dark:bg-gray-900">
            @if (selectedCategory() == c) {
            <div class="flex flex-col justify-center items-center border-gray-200 max-h-[600px] overflow-auto">
              @for (b of selectedCategoryBlogs(); track $index) {
              <div
                class="w-full flex justify-start items-center px-10 py-2 cursor-pointer text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"
                [routerLink]="'/blog/post/' + b.attributes.slug">
                <div class="text-base border-b-2 border-dotted">
                  {{b.attributes.title}}
                </div>
              </div>
              }
            </div>
            }
          </div>
        </div>
        }
      </div>
    </div>
  </div>
</div>